{% include "navbar.html" %}
{% block content %}

<style>
  .form-container {
    width: 450px;
    margin: 40px auto;
    background: #fff;
    padding: 32px 28px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    text-align: left;
  }

  .form-container h2 {
    text-align: center;
    font-size: 22px;
    font-weight: 600;
    margin-bottom: 25px;
  }

  label {
    display: block;
    font-weight: 500;
    margin-bottom: 6px;
    color: #222;
  }

  label span {
    color: red;
  }

  input, select {
    width: 100%;
    padding: 10px 12px;
    margin-bottom: 18px;
    border: 1px solid #ddd;
    border-radius: 8px;
    font-size: 15px;
    outline: none;
    transition: border-color 0.2s, box-shadow 0.2s;
  }

  input:focus, select:focus {
    border-color: #007bff;
    box-shadow: 0 0 0 2px rgba(0,123,255,0.15);
  }

  .button {
    width: 100%;
    background-color: #007bff;
    color: #fff;
    padding: 12px 0;
    font-size: 15px;
    font-weight: 600;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.2s ease;
  }

  .button:hover {
    background-color: #0056d2;
  }
</style>

<div class="form-container">
  <h2>Update Transaction</h2>

  <form method="post">
    {% csrf_token %}

    
    <label>Type <span>*</span></label>
    <select name="type" id="type" required>
      <option value="Expense" {% if transaction.tran_type == "Expense" %}selected{% endif %}>Expense</option>
      <option value="Income" {% if transaction.tran_type == "Income" %}selected{% endif %}>Income</option>
    </select>

    
    <label>Title <span>*</span></label>
    <input type="text" name="title" value="{{ transaction.title }}" required />

    
    <label>Amount (â‚¹) <span>*</span></label>
    <input type="number" name="amount" value="{{ transaction.amount }}" min="1" required />


    
<label for="category">Category <span>*</span></label>
<select name="category" id="category" required>
    <option value="">Select a category</option>
    
  
    <optgroup label="Income Categories">
        {% for category in categories %}
            {% if category.type == "Income" %}
                <option value="{{ category.name }}" {% if transaction.category == category.name %}selected{% endif %}>
                    {{ category.name }}
                </option>
            {% endif %}
        {% endfor %}
    </optgroup>
    
    
    <optgroup label="Expense Categories">
        {% for category in categories %}
            {% if category.type == "Expense" %}
                <option value="{{ category.name }}" {% if transaction.category == category.name %}selected{% endif %}>
                    {{ category.name }}
                </option>
            {% endif %}
        {% endfor %}
    </optgroup>
</select>

    
    <label>Date</label>
    <input type="date" name="date" value="{{ transaction.date|date:'Y-m-d' }}" required />

    <input type="submit" class="button" value="Update Transaction" />
  </form>
</div>

{% endblock %}